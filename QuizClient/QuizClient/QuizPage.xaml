<Page x:Class="QuizClient.QuizPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#FAFAFA"
      Title="QuizPage">

    <Page.Resources>
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="10"/>
        </Style>
    </Page.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="40" x:Name="MainContainer">

            <!-- Titolo quiz -->
            <TextBlock x:Name="QuizTitleText"
                       FontSize="28"
                       FontWeight="Bold"
                       Foreground="#333"
                       TextWrapping="Wrap"
                       Margin="0,0,0,10"/>

            <!-- Timer -->
            <TextBlock x:Name="TimerText"
                       FontSize="18"
                       Foreground="#3399FF"
                       Margin="0,0,0,20"
                       TextAlignment="Left"/>

            <!-- Contenitore dinamico dei quesiti -->
            <StackPanel x:Name="DomandeContainer" />

            <!-- Pannello di feedback finale -->
            <Border x:Name="QuizFeedbackPanel"
                    Background="#E0F7FA"
                    Padding="20"
                    CornerRadius="10"
                    Visibility="Collapsed"
                    Margin="0,20,0,0"
                    BorderBrush="#00ACC1"
                    BorderThickness="2">
                <StackPanel>
                    <TextBlock x:Name="FeedbackTitle"
                               FontSize="22"
                               FontWeight="Bold"
                               Foreground="#006064"
                               Margin="0,0,0,10"/>
                    <TextBlock x:Name="FeedbackDetails"
                               FontSize="16"
                               Foreground="#004D40"
                               TextWrapping="Wrap"
                               Margin="0,0,0,20"/>
                    <Button Content="Torna alla lobby"
                            Click="GoToLobby_Click"
                            Width="200"
                            Height="40"
                            Background="#00796B"
                            Foreground="White"
                            FontWeight="SemiBold"
                            HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Pulsanti azione -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                <Button x:Name="EndQuizButton"
                        Content="✅ Termina quiz"
                        MinWidth="140"
                        MinHeight="45"
                        Margin="10,0"
                        Background="#4CAF50"
                        Foreground="White"
                        FontWeight="Bold"
                        Click="EndQuiz_Click"/>
                <Button x:Name="CancelQuizButton"
                        Content="❌ Annulla"
                        MinWidth="140"
                        MinHeight="45"
                        Margin="10,0"
                        Background="#F44336"
                        Foreground="White"
                        FontWeight="Bold"
                        Click="CancelQuiz_Click"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Page>
